<!DOCTYPE html>
<html lang="en"><head>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2" crossorigin="anonymous"></script><script src="lecture4nonlinearProgramming_files/libs/clipboard/clipboard.min.js"></script>
<script src="lecture4nonlinearProgramming_files/libs/quarto-html/tabby.min.js"></script>
<script src="lecture4nonlinearProgramming_files/libs/quarto-html/popper.min.js"></script>
<script src="lecture4nonlinearProgramming_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="lecture4nonlinearProgramming_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="lecture4nonlinearProgramming_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="lecture4nonlinearProgramming_files/libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.8.25">

  <title>Lecture 4: Non-linear Programing, Constrained Maximization</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="lecture4nonlinearProgramming_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="lecture4nonlinearProgramming_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="lecture4nonlinearProgramming_files/libs/revealjs/dist/theme/quarto-534cd8e3a96973385dffff3f4709048d.css">
  <link rel="stylesheet" href="custom-styles.css">
  <link href="lecture4nonlinearProgramming_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="lecture4nonlinearProgramming_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="lecture4nonlinearProgramming_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="lecture4nonlinearProgramming_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/requirejs@2.3.6/require.min.js" integrity="sha384-c9c+LnTbwQ3aujuU7ULEPVvgLs+Fn6fJUvIGTsuu1ZcCf11fiEubah0ttpca4ntM sha384-6V1/AdqZRWk1KAlWbKBlGhN7VG4iE/yAZcO6NZPMF8od0vukrvr0tg4qY6NSrItx" crossorigin="anonymous"></script>
  
  <script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Lecture 4: Non-linear Programing, Constrained Maximization</h1>

<div class="quarto-title-authors">
</div>

</section>
<section id="items-for-reiteration" class="slide level2 scrollable">
<h2>Items for reiteration:</h2>
<ol type="1">
<li>The lecture notes are posted on my website. I’ve added link to the location at the top of the canvas page.</li>
<li>The lectures are not recorded. <em>I am recording supplemental versions for the add drop period, if these are useful (and time allows) I will continue to make them.</em></li>
<li>Please post your questions about course content on the canvas discussions for each lecture (they go live after the lecture).</li>
<li><strong>Thanks to those of you that have reached out with questions! I enjoy answering them, and it helps me a lot to see what is working and what is not.</strong></li>
<li>The review lectures will address everyone’s favorite question: “Dr.&nbsp;Morris, please tell me exactly what will be on the exam.”
<ul>
<li>Note: The answer to the most popular questions seems to be: “Focus on setup and interpretation, not calculation.”</li>
</ul></li>
</ol>
</section>
<section id="a-note-on-incremental-cost-and-marginal-cost" class="slide level2">
<h2>A note on incremental cost and marginal cost:</h2>
<ul>
<li>Marginal Cost: as it’s used in economics (i.e.&nbsp;MR=MC under competition) is a mathmatical term: the derivative of the cost function w.r.t. quantity.</li>
<li>Incremental Cost is a practical term: the change in cost for a one unit change in output.</li>
</ul>
<p>The two are often interchangable, but we should know that they are different. They are the same when the cost curve is linear, they are intechangable whenever we decide that a linear approximation is suitable for our purposes.</p>
<p>In this exercise, we will use the incremental cost as a simple way to get an idea of how the marginal cost is changing.</p>
</section>
<section id="lets-go-through-the-homework" class="slide level2 scrollable">
<h2>Let’s go through the homework:</h2>
<p>You manage a two-product firm. The production technology requires a mixture of capital and labor to produce each product. Capital is shared, while labor is specific to each of the two products. For the first product, capital (<span class="math inline">\(K \geq
0\)</span>) and labor (<span class="math inline">\(L_1 \geq 0\)</span>) must satisfy the following, in order to produce <span class="math inline">\(q_1\)</span> units: <span class="math inline">\(q_{1} \leq \sqrt{KL_{1}}\)</span>. Likewise, producing <span class="math inline">\(q_2\)</span> units of the second product requires capital (<span class="math inline">\(K\)</span>) and labor (now <span class="math inline">\(L_2 \geq 0\)</span>) such that: <span class="math inline">\(q_2 \leq\sqrt{KL_2}\)</span>. In addition, total capital is limited to a maximum of 200 units. (So <span class="math inline">\(K \leq 200\)</span>.) Naturally, <span class="math inline">\(K\)</span>, <span class="math inline">\(L_1\)</span>, <span class="math inline">\(L_2\)</span> are all required to be non-negative. Capital costs 100 per unit, labor for the first product costs 140 per unit and labor for the second product costs 175 per unit. The first product sells for 275 per unit, and the second sells for 300 per unit.</p>
<ol type="1">
<li>Initially suppose only the first product is present. Determine and interpret your optimal production plan.</li>
<li>Next suppose only the second product is present. Determine and interpret your optimal production plan.</li>
<li>Now assume both products are present. Determine and interpret your optimal production plan.</li>
<li>Repeat the three parts above assuming the first product sells for 200 per unit.</li>
<li>Fill in the following table:</li>
</ol>
<!-- TODO: fill this in with excel -->
<table class="caption-top">
<colgroup>
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 40%">
<col style="width: 40%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"><span class="math inline">\(q_1\)</span></th>
<th style="text-align: center;"><span class="math inline">\(q_2\)</span></th>
<th style="text-align: center;">MC of <span class="math inline">\(q_1\)</span> with <span class="math inline">\(q_2\)</span> fixed.</th>
<th style="text-align: center;">MC of <span class="math inline">\(q_2\)</span> with <span class="math inline">\(q_1\)</span> fixed.</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">50</td>
<td style="text-align: center;">50</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;">50</td>
<td style="text-align: center;">100</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;">50</td>
<td style="text-align: center;">150</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;">100</td>
<td style="text-align: center;">50</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;">100</td>
<td style="text-align: center;">100</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;">100</td>
<td style="text-align: center;">150</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;">150</td>
<td style="text-align: center;">100</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;">150</td>
<td style="text-align: center;">150</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
<p>(<em>MC is the marginal cost, but for this exercise we can use one unit changes as a proxy for the marginal cost.</em>)</p>
<!-- ### Three quick points based on common questions:  -->
<!-- 1. The cost of capital is 100 per unit, so if the constraint binds total cost of capital is 100 $\times$ 200 = 20,000 -->
</section>
<section id="q-1-determine-and-interpret-your-optimal-production-plan." class="slide level2">
<h2>Q 1: Determine and interpret your optimal production plan.</h2>
<h3 id="start-by-thinking-about-what-q_1-leq-sqrtkl_1-and-q_2-leqsqrtkl_2-are">Start by thinking about what <span class="math inline">\(q_{1} \leq \sqrt{KL_{1}}\)</span> and <span class="math inline">\(q_2 \leq\sqrt{KL_2}\)</span> are?</h3>
<ul>
<li><p>A name for this sort of function is a “<strong>production function</strong>”</p></li>
<li><p>The expression <span class="math inline">\(q_{1} \leq \sqrt{KL_{1}}\)</span> is the rate at which our production process changes inputs into outputs.</p></li>
<li><p>Notice that this even though there is a <span class="math inline">\(\leq\)</span> sign, that this is not a constraint <em>per se</em> because we get to choose <span class="math inline">\(K\)</span> and <span class="math inline">\(L_1\)</span>, and it is only that choice that constrains the amount of <span class="math inline">\(q_1\)</span> that we produce.</p></li>
<li><p>Also notice that if we are trying to optimize we will never produce less than <span class="math inline">\(q_1=\sqrt{KL_{1}}\)</span></p></li>
</ul>
</section>
<section id="exploring-production-functions" class="slide level2">
<h2>Exploring Production Functions:</h2>
<p>Let’s look at some plots to see the implications of this.</p>
<p><strong>Note that I’ll use python for the examples today, this is because it makes 3-d plotting easy, and I want you to think of these as list of steps.</strong></p>
</section>
<section id="exploring-production-functions-1" class="slide level2">
<h2>Exploring Production Functions:</h2>
<ul>
<li>Set up by loading the libraries and creating the framework for our plot.</li>
</ul>
<div id="40e4e40f" class="cell" data-execution_count="1">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href=""></a><span class="co"># quick set up for our plot</span></span>
<span id="cb1-2"><a href=""></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-3"><a href=""></a><span class="im">from</span> mpl_toolkits.mplot3d <span class="im">import</span> Axes3D</span>
<span id="cb1-4"><a href=""></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-5"><a href=""></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-6"><a href=""></a></span>
<span id="cb1-7"><a href=""></a><span class="co"># create the framework for our plot</span></span>
<span id="cb1-8"><a href=""></a>l1 <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">300</span>, <span class="dv">300</span>)</span>
<span id="cb1-9"><a href=""></a>k <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">200</span>, <span class="dv">300</span>)</span>
<span id="cb1-10"><a href=""></a>L1, K <span class="op">=</span> np.meshgrid(l1, k)</span>
<span id="cb1-11"><a href=""></a></span>
<span id="cb1-12"><a href=""></a><span class="co"># CALCULATE THE PRODUCTION FUNCTION </span></span>
<span id="cb1-13"><a href=""></a>Q1 <span class="op">=</span> np.sqrt(L1<span class="op">*</span>K)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="exploring-production-functions-2" class="slide level2">
<h2>Exploring Production Functions:</h2>
<div id="113611df" class="cell" data-execution_count="2">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href=""></a><span class="co"># Create the figure and add a 3D axis</span></span>
<span id="cb2-2"><a href=""></a>fig <span class="op">=</span> plt.figure()</span>
<span id="cb2-3"><a href=""></a>ax <span class="op">=</span> fig.add_subplot(<span class="dv">111</span>, projection<span class="op">=</span><span class="st">'3d'</span>)</span>
<span id="cb2-4"><a href=""></a><span class="co"># Plot the data</span></span>
<span id="cb2-5"><a href=""></a>ax.plot_surface(L1, K, Q1)</span>
<span id="cb2-6"><a href=""></a><span class="co"># Set axis labels and show the plot</span></span>
<span id="cb2-7"><a href=""></a>ax.set_xlabel(<span class="st">'L1'</span>)</span>
<span id="cb2-8"><a href=""></a>ax.set_ylabel(<span class="st">'K'</span>)</span>
<span id="cb2-9"><a href=""></a>ax.set_zlabel(<span class="st">'Q1'</span>)</span>
<span id="cb2-10"><a href=""></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="lecture4nonlinearProgramming_files/figure-revealjs/cell-3-output-1.png" width="409" height="396"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="capital-contraints" class="slide level2">
<h2>Capital Contraints:</h2>
<h3 id="what-if-we-hold-k-fixed-what-will-the-graph-look-like">What if we hold K fixed? What will the graph look like?</h3>
<p>In <code>Q1 = np.sqrt(L1*K)</code> we will plug in values for <code>K</code> and let <code>L1</code> vary.</p>
<div id="327a211a" class="cell" data-execution_count="3">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href=""></a>l1 <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">300</span>, <span class="dv">300</span>)</span>
<span id="cb3-2"><a href=""></a>Q1_10 <span class="op">=</span> np.sqrt(L1<span class="op">*</span><span class="dv">10</span>)    <span class="co"># k = 10</span></span>
<span id="cb3-3"><a href=""></a>Q1_100 <span class="op">=</span> np.sqrt(L1<span class="op">*</span><span class="dv">100</span>)  <span class="co"># k = 100</span></span>
<span id="cb3-4"><a href=""></a>Q1_200 <span class="op">=</span> np.sqrt(L1<span class="op">*</span><span class="dv">200</span>)  <span class="co"># k = 200</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="capital-contraints-1" class="slide level2">
<h2>Capital Contraints:</h2>
<h3 id="what-if-we-hold-k-fixed-what-will-the-graph-look-like-1">What if we hold K fixed? What will the graph look like?</h3>
<div id="f2e84fdb" class="cell" data-execution_count="4">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href=""></a>fig <span class="op">=</span> plt.figure()</span>
<span id="cb4-2"><a href=""></a>ax <span class="op">=</span> fig.add_subplot(<span class="dv">111</span>, projection<span class="op">=</span><span class="st">'3d'</span>)</span>
<span id="cb4-3"><a href=""></a>ax.plot_surface(L1, K, Q1_10)</span>
<span id="cb4-4"><a href=""></a>ax.plot_surface(L1, K, Q1_100)</span>
<span id="cb4-5"><a href=""></a>ax.plot_surface(L1, K, Q1_200)</span>
<span id="cb4-6"><a href=""></a>ax.set_xlabel(<span class="st">'L1'</span>)</span>
<span id="cb4-7"><a href=""></a>ax.set_ylabel(<span class="st">'K'</span>)</span>
<span id="cb4-8"><a href=""></a>ax.set_zlabel(<span class="st">'Q1'</span>)</span>
<span id="cb4-9"><a href=""></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="lecture4nonlinearProgramming_files/figure-revealjs/cell-5-output-1.png" width="409" height="396"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="back-to-the-question" class="slide level2">
<h2>Back to the question:</h2>
<h3 id="what-is-an-optimal-production-plan">What is an optimal production plan?</h3>
<ul>
<li>The one that maximizes profits!</li>
<li>Subject to constraints.</li>
<li>So the optimal production plan is the ones that maximizes <span class="math inline">\(R-C\)</span> subject to the constraints in the problem.</li>
</ul>
</section>
<section id="optimal-production-plan-for-q_1-alone" class="slide level2">
<h2>Optimal production plan for <span class="math inline">\(q_1\)</span> alone:</h2>
<p>Maximize: <span class="math display">\[\Pi = R - C\]</span></p>
<p>Let’s refer to the prices as “P”, and the labor and capital costs as “C”</p>
<p><span class="math display">\[ \Pi(P,C) \equiv P \times q_1 - C_L \times L_1 - C_K \times K \]</span></p>
<p>Plug in the P’s and C’s from the problem and then add the production function and capital constraints.</p>
<p><span class="math display">\[ \Pi(P,C) \equiv 275 \times q_1 - 140 \times L_1 - 100 \times K \]</span> <span class="math display">\[ q_1 \leq \sqrt{L_1 \times K} \]</span> <span class="math display">\[ K \leq \bar{K} = 200 \]</span></p>
<p>This makes it seem like we have more choices than we actually have. The constraint (production function) makes it so that we can only choose two of K, q1, and l1. So we can plug the production function in for labor or quantity (I choose labor to get rid of the sqrt)</p>
<p><span class="math display">\[ \Pi(P,C) \equiv 275 \times q_1 - 140 \times \frac{q_1^2}{K} - 100 \times K \]</span> <span class="math display">\[ K \leq \bar{K} = 200 \]</span></p>
</section>
<section id="so-what-do-we-do-with-this" class="slide level2">
<h2>So what do we do with this?</h2>
<p><span class="math display">\[ \Pi(P,C) \equiv 275 \times q_1 - 140 \times \frac{q_1^2}{K} - 100 \times K \]</span> <span class="math display">\[ K \leq \bar{K} = 200 \]</span></p>
<p>How do we choose the optimal production plan?</p>
<ul>
<li>Guess and check?</li>
<li>Set up and solve a Legrangian :) I am not going to ask you to <em>actually</em> solve this by hand… you can do it with Excel and Python!</li>
<li>Note that you can apply the steps we do here to any similar solver.</li>
</ul>
<p><strong>iPRS: How did you solve this?</strong></p>
</section>
<section id="since-this-is-not-a-linear-problem-lets-use-gekko" class="slide level2">
<h2>Since this is not a linear problem let’s use <a href="https://gekko.readthedocs.io/en/latest/">GEKKO</a></h2>
<p>(don’t worry… we will do this in Excel as well, and the exam will focus on setup and interpretation)</p>
<div id="bfca347f" class="cell" data-execution_count="5">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href=""></a><span class="co"># set up the solver</span></span>
<span id="cb5-2"><a href=""></a><span class="im">from</span> gekko <span class="im">import</span> GEKKO <span class="co"># pip install gekko... I posted a video about this</span></span>
<span id="cb5-3"><a href=""></a>m <span class="op">=</span> GEKKO(remote<span class="op">=</span><span class="va">False</span>) <span class="co"># here we create a gekko object called 'm'</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="step-1-specify-the-choice-variables-and-their-constraints" class="slide level2">
<h2>Step 1: Specify the ‘Choice Variables’ and their constraints</h2>
<div id="90b61a1c" class="cell" data-execution_count="6">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href=""></a><span class="co"># Initialize the decision variables</span></span>
<span id="cb6-2"><a href=""></a>q1 <span class="op">=</span> m.Var(</span>
<span id="cb6-3"><a href=""></a>    name<span class="op">=</span><span class="st">"q1"</span>, </span>
<span id="cb6-4"><a href=""></a>    lb<span class="op">=</span><span class="dv">0</span> <span class="co"># the lower bound</span></span>
<span id="cb6-5"><a href=""></a>) </span>
<span id="cb6-6"><a href=""></a>q1.value<span class="op">=</span><span class="dv">1</span> <span class="co"># most solvers run faster when you give a starting point</span></span>
<span id="cb6-7"><a href=""></a></span>
<span id="cb6-8"><a href=""></a>k <span class="op">=</span>  m.Var(</span>
<span id="cb6-9"><a href=""></a>    name<span class="op">=</span><span class="st">"k"</span>, </span>
<span id="cb6-10"><a href=""></a>    lb<span class="op">=</span><span class="dv">0</span>, <span class="co"># lower bound</span></span>
<span id="cb6-11"><a href=""></a>    ub<span class="op">=</span><span class="dv">200</span> <span class="co"># upper bound</span></span>
<span id="cb6-12"><a href=""></a>) </span>
<span id="cb6-13"><a href=""></a>k.value<span class="op">=</span><span class="dv">200</span> <span class="co"># this is our first guess to speed up the solution</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="step-2-write-down-the-objective-function-what-we-want-to-maximize-any-remaining-constraints-and-solve." class="slide level2">
<h2>Step 2: Write down the objective function (what we want to maximize), any remaining constraints, and solve.</h2>
<p><span class="math display">\[ \Pi(P,C) \equiv 275 \times q_1 - 140 \times \frac{q_1^2}{K} - 100 \times K \]</span> <em>What happened to <span class="math inline">\(K \leq \bar{K} = 200\)</span>?</em> (hint: it is a constraint on a <em>choice variable</em> look for it on the previous slide!)</p>
<div id="212f6eb1" class="cell" data-execution_count="7">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href=""></a>m.Maximize(</span>
<span id="cb7-2"><a href=""></a>    <span class="dv">275</span><span class="op">*</span>q1 <span class="op">-</span> <span class="dv">140</span><span class="op">*</span>((q1<span class="op">**</span><span class="dv">2</span>)<span class="op">/</span>k) <span class="op">-</span> <span class="dv">100</span><span class="op">*</span>k</span>
<span id="cb7-3"><a href=""></a>)</span>
<span id="cb7-4"><a href=""></a>m.solve(disp<span class="op">=</span><span class="va">False</span>) <span class="co"># silencing the output because it is diagnostic</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="step-2-continued" class="slide level2">
<h2>Step 2 continued:</h2>
<p>The output from the model is just the choice variables: we need to calculate profit and labor:</p>
<div id="8d42862e" class="cell" data-execution_count="8">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href=""></a>q1, k</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="116">
<pre><code>([196.42857143], [200.0])</code></pre>
</div>
</div>
<p>We need to calculate profit and labor:</p>
<p>Plug <span class="math inline">\(q_1 = 196.43\)</span> and <span class="math inline">\(K=200\)</span> into: <span class="math display">\[\Pi(P,C) \equiv 275 \times q_1 - 140 \times \frac{q_1^2}{K} - 100 \times K \]</span></p>
</section>
<section id="step-2-continued-1" class="slide level2">
<h2>Step 2 continued:</h2>
<p>Use the production function to calculate <span class="math inline">\(l_1=q_1^2/K\)</span></p>
<div id="6114098b" class="cell" data-execution_count="9">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href=""></a>profit <span class="op">=</span> (</span>
<span id="cb10-2"><a href=""></a>  <span class="dv">275</span><span class="op">*</span>q1.value[<span class="dv">0</span>] <span class="op">-</span> <span class="dv">140</span><span class="op">*</span>((q1.value[<span class="dv">0</span>]<span class="op">**</span><span class="dv">2</span>)<span class="op">/</span>k.value[<span class="dv">0</span>]) <span class="op">-</span> <span class="dv">100</span><span class="op">*</span>k.value[<span class="dv">0</span>]</span>
<span id="cb10-3"><a href=""></a>)</span>
<span id="cb10-4"><a href=""></a>l1 <span class="op">=</span> (q1.value[<span class="dv">0</span>]<span class="op">**</span><span class="dv">2</span> <span class="op">/</span> k.value[<span class="dv">0</span>])</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="step-2-continued-2" class="slide level2">
<h2>Step 2 continued:</h2>
<p>This gives us the following solutions (note that I’m rounding here):</p>
<div id="8ea27369" class="cell" data-execution_count="10">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href=""></a><span class="bu">print</span>(<span class="st">'q1     '</span>, <span class="bu">int</span>(q1.value[<span class="dv">0</span>])) <span class="co"># q1 is a list q1[0] is the first element of the list.</span></span>
<span id="cb11-2"><a href=""></a><span class="bu">print</span>(<span class="st">'l1     '</span>, <span class="bu">int</span>(l1))</span>
<span id="cb11-3"><a href=""></a><span class="bu">print</span>(<span class="st">'K      '</span>, <span class="bu">int</span>(k.value[<span class="dv">0</span>]))</span>
<span id="cb11-4"><a href=""></a><span class="bu">print</span>(<span class="st">'profit '</span>, <span class="bu">int</span>(profit))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>q1      196
l1      192
K       200
profit  7008</code></pre>
</div>
</div>
</section>
<section id="optimal-production-plan-for-q_2-alone" class="slide level2">
<h2>Optimal production plan for <span class="math inline">\(q_2\)</span> alone:</h2>
<p>Let’s refer to the prices as “P”, and the labor and capital costs as “C”</p>
<p><span class="math display">\[ \Pi(P,C) \equiv  300 \times q_2  - 175 \times L_2 - 100 \times K \]</span> <span class="math display">\[ q_2 \leq \sqrt{L_2 \times K} \]</span> <span class="math display">\[ K \leq \bar{K} = 200 \]</span></p>
<p>We make a similar substitution here:</p>
<p><span class="math display">\[ \Pi(P,C) \equiv  300 \times q_2  - 175 \times \frac{q_2^2}{K} - 100 \times K \]</span> <span class="math display">\[ K \leq \bar{K} = 200 \]</span></p>
<div id="5e25b03a" class="cell" data-execution_count="11">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href=""></a><span class="co"># same set up repeated to clean out 'm'</span></span>
<span id="cb13-2"><a href=""></a>m <span class="op">=</span> GEKKO(remote<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb13-3"><a href=""></a>q2 <span class="op">=</span> m.Var(name<span class="op">=</span><span class="st">"q2"</span>, lb<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb13-4"><a href=""></a>q2.value<span class="op">=</span><span class="dv">1</span> </span>
<span id="cb13-5"><a href=""></a>k <span class="op">=</span>  m.Var(name<span class="op">=</span><span class="st">"k"</span>, lb<span class="op">=</span><span class="dv">0</span>, ub<span class="op">=</span><span class="dv">200</span>)</span>
<span id="cb13-6"><a href=""></a>k.value<span class="op">=</span><span class="dv">200</span> </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="write-down-the-objective-function-again-and-solve" class="slide level2">
<h2>Write down the objective function again and solve:</h2>
<p><span class="math display">\[ \Pi(P,C) \equiv + 300 \times q_2  - 175 \times \frac{q_2^2}{K} - 100 \times K \]</span></p>
</section>
<section id="this-gives-us-the-following-solutions" class="slide level2">
<h2>This gives us the following solutions</h2>
<p>(note that I’m rounding here)</p>
<div id="e9c149f9" class="cell" data-execution_count="13">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href=""></a><span class="bu">print</span>(<span class="st">'q2     '</span>, <span class="bu">int</span>(q2.value[<span class="dv">0</span>]))</span>
<span id="cb14-2"><a href=""></a><span class="bu">print</span>(<span class="st">'l2     '</span>,<span class="bu">int</span>(l2))</span>
<span id="cb14-3"><a href=""></a><span class="bu">print</span>(<span class="st">'K      '</span>, <span class="bu">int</span>(k.value[<span class="dv">0</span>]))</span>
<span id="cb14-4"><a href=""></a><span class="bu">print</span>(<span class="st">'profit '</span>, <span class="bu">int</span>(profit))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>q2      171
l2      146
K       200
profit  5714</code></pre>
</div>
</div>
</section>
<section id="optimal-production-plan-for-both" class="slide level2">
<h2>Optimal production plan for both:</h2>
<p>Let’s refer to the prices as “P”, and the labor and capital costs as “C” <span class="math display">\[ \Pi(P,C) \equiv 275 \times q_1 + 300 \times q_2 - 140 \times L_1 - 175 \times L_2 - 100 \times K \]</span> <span class="math display">\[ q_1 \leq \sqrt{L_1 \times K} \]</span> <span class="math display">\[ q_2 \leq \sqrt{L_2 \times K} \]</span> <span class="math display">\[ K \leq \bar{K} = 200 \]</span></p>
<p>Again both constraints allow us to eliminate <span class="math inline">\(L\)</span>: <span class="math display">\[ \Pi(P,C) \equiv 275 \times q_1 + 300 \times q_2 - 140 \times \frac{q_1^2}{K} - 175 \times \frac{q_2^2}{K} - 100 \times K \]</span> <span class="math display">\[ K \leq \bar{K} = 200 \]</span></p>
<div id="e719eb81" class="cell" data-execution_count="14">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href=""></a><span class="co"># reset gekko</span></span>
<span id="cb16-2"><a href=""></a>m <span class="op">=</span> GEKKO(remote<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb16-3"><a href=""></a><span class="co"># Initialize the decision variables with guesses for the optimizer</span></span>
<span id="cb16-4"><a href=""></a>q1 <span class="op">=</span> m.Var(name<span class="op">=</span><span class="st">"q1"</span>, lb<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb16-5"><a href=""></a>q1.value<span class="op">=</span><span class="dv">1</span></span>
<span id="cb16-6"><a href=""></a>q2 <span class="op">=</span> m.Var(name<span class="op">=</span><span class="st">"q2"</span>, lb<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb16-7"><a href=""></a>q2.value<span class="op">=</span><span class="dv">1</span></span>
<span id="cb16-8"><a href=""></a>k <span class="op">=</span>  m.Var(name<span class="op">=</span><span class="st">"k"</span>, lb<span class="op">=</span><span class="dv">0</span>, ub<span class="op">=</span><span class="dv">200</span>) </span>
<span id="cb16-9"><a href=""></a>k.value<span class="op">=</span><span class="dv">200</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="e19bfbf6" class="cell" data-execution_count="15">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href=""></a><span class="co"># write the objective function  and solve</span></span>
<span id="cb17-2"><a href=""></a>m.Maximize(</span>
<span id="cb17-3"><a href=""></a>    <span class="dv">275</span><span class="op">*</span>q1 <span class="op">-</span> <span class="dv">140</span><span class="op">*</span>((q1<span class="op">**</span><span class="dv">2</span>)<span class="op">/</span>k)</span>
<span id="cb17-4"><a href=""></a>    <span class="op">+</span> <span class="dv">300</span><span class="op">*</span>q2 <span class="op">-</span> <span class="dv">175</span><span class="op">*</span>((q2<span class="op">**</span><span class="dv">2</span>)<span class="op">/</span>k)</span>
<span id="cb17-5"><a href=""></a>    <span class="op">-</span> <span class="dv">100</span><span class="op">*</span>k</span>
<span id="cb17-6"><a href=""></a>)</span>
<span id="cb17-7"><a href=""></a>m.solve(disp<span class="op">=</span><span class="va">False</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="c2469aab" class="cell" data-execution_count="16">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href=""></a><span class="co"># quick calcs to clean things up</span></span>
<span id="cb18-2"><a href=""></a>profit <span class="op">=</span> (</span>
<span id="cb18-3"><a href=""></a>    <span class="dv">275</span><span class="op">*</span>q1.value[<span class="dv">0</span>] <span class="op">-</span> <span class="dv">140</span><span class="op">*</span>((q1.value[<span class="dv">0</span>]<span class="op">**</span><span class="dv">2</span>)<span class="op">/</span>k.value[<span class="dv">0</span>]) </span>
<span id="cb18-4"><a href=""></a>    <span class="op">+</span> <span class="dv">300</span><span class="op">*</span>q2.value[<span class="dv">0</span>] <span class="op">-</span> <span class="dv">175</span><span class="op">*</span>((q2.value[<span class="dv">0</span>]<span class="op">**</span><span class="dv">2</span>)<span class="op">/</span>k.value[<span class="dv">0</span>])  </span>
<span id="cb18-5"><a href=""></a>    <span class="op">-</span> <span class="dv">100</span><span class="op">*</span>k.value[<span class="dv">0</span>]</span>
<span id="cb18-6"><a href=""></a>)</span>
<span id="cb18-7"><a href=""></a>l1 <span class="op">=</span> q1.value[<span class="dv">0</span>]<span class="op">**</span><span class="dv">2</span><span class="op">/</span>k.value[<span class="dv">0</span>]</span>
<span id="cb18-8"><a href=""></a>l2 <span class="op">=</span> q2.value[<span class="dv">0</span>]<span class="op">**</span><span class="dv">2</span><span class="op">/</span>k.value[<span class="dv">0</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="this-gives-us-the-following-solutions-1" class="slide level2">
<h2>This gives us the following solutions</h2>
<p>(note that I’m rounding here)</p>
<div id="67b6d410" class="cell" data-execution_count="17">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href=""></a><span class="bu">print</span>(<span class="st">'q1     '</span>, <span class="bu">int</span>(q1.value[<span class="dv">0</span>]))</span>
<span id="cb19-2"><a href=""></a><span class="bu">print</span>(<span class="st">'l1     '</span>,<span class="bu">int</span>(l1))</span>
<span id="cb19-3"><a href=""></a><span class="bu">print</span>(<span class="st">'q2     '</span>, <span class="bu">int</span>(q2.value[<span class="dv">0</span>]))</span>
<span id="cb19-4"><a href=""></a><span class="bu">print</span>(<span class="st">'l2     '</span>,<span class="bu">int</span>(l2))</span>
<span id="cb19-5"><a href=""></a><span class="bu">print</span>(<span class="st">'K      '</span>, <span class="bu">int</span>(k.value[<span class="dv">0</span>]))</span>
<span id="cb19-6"><a href=""></a><span class="bu">print</span>(<span class="st">'profit '</span>, <span class="bu">int</span>(profit))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>q1      196
l1      192
q2      171
l2      146
K       200
profit  32723</code></pre>
</div>
</div>
</section>
<section id="we-always-pick-k200.-what-does-this-mean" class="slide level2">
<h2>We always pick k=200. What does this mean?</h2>
<ul>
<li>This means that the capital constraint is preventing us from making the next unit of output.</li>
<li>When a constraint does this we often call it a ‘binding constraint’.</li>
</ul>
<h3 id="the-q1l1-and-q2l2-pairs-that-we-pick-are-the-same-when-we-consider-the-products-separately-and-together.-what-does-this-mean">The q1,L1 and q2,L2 pairs that we pick are the same when we consider the products separately and together. What does this mean?</h3>
<ul>
<li>It means that the profit function is <strong>separable</strong> when the capital constraint is binding.</li>
</ul>
</section>
<section id="repeat-all-three-steps-with-p_1200" class="slide level2">
<h2>Repeat all three steps with <span class="math inline">\(P_1=200\)</span></h2>
<div id="120216c1" class="cell" data-execution_count="18">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href=""></a>m <span class="op">=</span> GEKKO(remote<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb21-2"><a href=""></a>q1 <span class="op">=</span> m.Var(name<span class="op">=</span><span class="st">"q1"</span>, lb<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb21-3"><a href=""></a>q1.value<span class="op">=</span><span class="dv">1</span></span>
<span id="cb21-4"><a href=""></a>q2 <span class="op">=</span> m.Var(name<span class="op">=</span><span class="st">"q2"</span>, lb<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb21-5"><a href=""></a>q2.value<span class="op">=</span><span class="dv">1</span></span>
<span id="cb21-6"><a href=""></a>k <span class="op">=</span>  m.Var(name<span class="op">=</span><span class="st">"k"</span>, lb<span class="op">=</span><span class="dv">0</span>, ub<span class="op">=</span><span class="dv">200</span>)</span>
<span id="cb21-7"><a href=""></a>k.value<span class="op">=</span><span class="dv">200</span> </span>
<span id="cb21-8"><a href=""></a>m.Maximize(</span>
<span id="cb21-9"><a href=""></a>    <span class="dv">200</span><span class="op">*</span>q1 <span class="op">-</span> <span class="dv">140</span><span class="op">*</span>((q1<span class="op">**</span><span class="dv">2</span>)<span class="op">/</span>k) <span class="op">-</span> <span class="dv">100</span><span class="op">*</span>k</span>
<span id="cb21-10"><a href=""></a>)</span>
<span id="cb21-11"><a href=""></a>m.solve(disp<span class="op">=</span><span class="va">False</span>) <span class="co"># silencing the out put because it is diagnostic</span></span>
<span id="cb21-12"><a href=""></a>profit <span class="op">=</span> (</span>
<span id="cb21-13"><a href=""></a>    <span class="dv">200</span><span class="op">*</span>q1.value[<span class="dv">0</span>] </span>
<span id="cb21-14"><a href=""></a>    <span class="op">-</span> <span class="dv">140</span><span class="op">*</span>((q1.value[<span class="dv">0</span>]<span class="op">**</span><span class="dv">2</span>)<span class="op">/</span>k.value[<span class="dv">0</span>]) </span>
<span id="cb21-15"><a href=""></a>    <span class="op">-</span> <span class="dv">100</span><span class="op">*</span>k.value[<span class="dv">0</span>]</span>
<span id="cb21-16"><a href=""></a>)</span>
<span id="cb21-17"><a href=""></a>l1 <span class="op">=</span> q1.value[<span class="dv">0</span>]<span class="op">**</span><span class="dv">2</span><span class="op">/</span>k.value[<span class="dv">0</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="q_1-when-p_1200" class="slide level2">
<h2><span class="math inline">\(Q_1\)</span> when <span class="math inline">\(P_1=200\)</span></h2>
<div id="ac8789b3" class="cell" data-execution_count="19">
<div class="cell-output cell-output-stdout">
<pre><code>q1      0
l1      0
K       0
profit  0</code></pre>
</div>
</div>
</section>
<section id="the-optimal-amount-of-q1-to-produce-is-0." class="slide level2">
<h2>The optimal amount of Q1 to produce is 0.</h2>
<ul>
<li><p>What does this mean?</p>
<ul>
<li>This means that a firm that only produces Q1 should not produce it at this price, given this cost structure.</li>
</ul></li>
<li><p>What does this mean for a firm that produces Q2?</p></li>
<li><p>What should they do? enter the market for Q1 or not?</p></li>
</ul>
</section>
<section id="lets-look-at-the-profit-functions-for-the-two-single-product-firms-with-k200" class="slide level2">
<h2>Lets look at the profit functions for the two single product firms with k=200</h2>
</section>
<section id="plots-of-two-single-product-firms-with-k200" class="slide level2">
<h2>Plots of two single product firms with k=200</h2>
<div id="2e9fe7eb" class="cell" data-execution_count="21">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href=""></a><span class="co"># plot so we can see what is going on</span></span>
<span id="cb23-2"><a href=""></a>plt.plot(q1,Pq1,label<span class="op">=</span><span class="st">'Profit (q1)'</span>)</span>
<span id="cb23-3"><a href=""></a>plt.plot(q1,Pq2,label<span class="op">=</span><span class="st">'Profit (q2)'</span>)</span>
<span id="cb23-4"><a href=""></a>plt.xlabel(<span class="st">'Quantity'</span>)</span>
<span id="cb23-5"><a href=""></a>plt.legend()</span>
<span id="cb23-6"><a href=""></a>plt.grid()</span>
<span id="cb23-7"><a href=""></a>plt.axhline(<span class="dv">0</span>, color<span class="op">=</span><span class="st">'grey'</span>)</span>
<span id="cb23-8"><a href=""></a>plt.title(<span class="st">'Profit with k=200 and P1=200'</span>)</span>
<span id="cb23-9"><a href=""></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="lecture4nonlinearProgramming_files/figure-revealjs/cell-22-output-1.png" width="826" height="449"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="q_1-and-q_2-when-p_1200" class="slide level2">
<h2><span class="math inline">\(Q_1\)</span> and <span class="math inline">\(Q_2\)</span> when <span class="math inline">\(P_1=200\)</span></h2>
<p>Now we are back to the multiproduct firm</p>
<div id="abcd4535" class="cell" data-execution_count="22">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href=""></a><span class="co"># Let's look at the two together</span></span>
<span id="cb24-2"><a href=""></a><span class="co"># reset gekko</span></span>
<span id="cb24-3"><a href=""></a>m <span class="op">=</span> GEKKO(remote<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb24-4"><a href=""></a><span class="co"># Initialize the decision variables</span></span>
<span id="cb24-5"><a href=""></a>q1 <span class="op">=</span> m.Var(name<span class="op">=</span><span class="st">"q1"</span>, lb<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb24-6"><a href=""></a>q1.value<span class="op">=</span><span class="dv">1</span></span>
<span id="cb24-7"><a href=""></a>q2 <span class="op">=</span> m.Var(name<span class="op">=</span><span class="st">"q2"</span>, lb<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb24-8"><a href=""></a>q2.value<span class="op">=</span><span class="dv">1</span></span>
<span id="cb24-9"><a href=""></a>k <span class="op">=</span>  m.Var(name<span class="op">=</span><span class="st">"k"</span>, lb<span class="op">=</span><span class="dv">0</span>, ub<span class="op">=</span><span class="dv">200</span>) <span class="co"># this is the constraint</span></span>
<span id="cb24-10"><a href=""></a>k.value<span class="op">=</span><span class="dv">200</span> <span class="co"># this is our first guess to speed up the solution</span></span>
<span id="cb24-11"><a href=""></a>m.Maximize(</span>
<span id="cb24-12"><a href=""></a>    <span class="dv">200</span><span class="op">*</span>q1 <span class="op">-</span> <span class="dv">140</span><span class="op">*</span>((q1<span class="op">**</span><span class="dv">2</span>)<span class="op">/</span>k)</span>
<span id="cb24-13"><a href=""></a>  <span class="op">+</span> <span class="dv">300</span><span class="op">*</span>q2 <span class="op">-</span> <span class="dv">175</span><span class="op">*</span>((q2<span class="op">**</span><span class="dv">2</span>)<span class="op">/</span>k)</span>
<span id="cb24-14"><a href=""></a>  <span class="op">-</span> <span class="dv">100</span><span class="op">*</span>k</span>
<span id="cb24-15"><a href=""></a>)</span>
<span id="cb24-16"><a href=""></a>m.solve(disp<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb24-17"><a href=""></a>profit <span class="op">=</span> (</span>
<span id="cb24-18"><a href=""></a>    <span class="dv">200</span><span class="op">*</span>q1.value[<span class="dv">0</span>] <span class="op">-</span> <span class="dv">140</span><span class="op">*</span>((q1.value[<span class="dv">0</span>]<span class="op">**</span><span class="dv">2</span>)<span class="op">/</span>k.value[<span class="dv">0</span>]) </span>
<span id="cb24-19"><a href=""></a>  <span class="op">+</span> <span class="dv">300</span><span class="op">*</span>q2.value[<span class="dv">0</span>] <span class="op">-</span> <span class="dv">175</span><span class="op">*</span>((q2.value[<span class="dv">0</span>]<span class="op">**</span><span class="dv">2</span>)<span class="op">/</span>k.value[<span class="dv">0</span>])  </span>
<span id="cb24-20"><a href=""></a>  <span class="op">-</span> <span class="dv">100</span><span class="op">*</span>k.value[<span class="dv">0</span>]</span>
<span id="cb24-21"><a href=""></a>)</span>
<span id="cb24-22"><a href=""></a>l1 <span class="op">=</span> q1.value[<span class="dv">0</span>]<span class="op">**</span><span class="dv">2</span><span class="op">/</span>k.value[<span class="dv">0</span>]</span>
<span id="cb24-23"><a href=""></a>l2 <span class="op">=</span> q2.value[<span class="dv">0</span>]<span class="op">**</span><span class="dv">2</span><span class="op">/</span>k.value[<span class="dv">0</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="q_1-and-q_2-when-p_1200-1" class="slide level2">
<h2><span class="math inline">\(Q_1\)</span> and <span class="math inline">\(Q_2\)</span> when <span class="math inline">\(P_1=200\)</span></h2>
<div id="015de354" class="cell" data-execution_count="23">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href=""></a><span class="bu">print</span>(<span class="st">'q1     '</span>, <span class="bu">int</span>(q1.value[<span class="dv">0</span>]))</span>
<span id="cb25-2"><a href=""></a><span class="bu">print</span>(<span class="st">'l1     '</span>, <span class="bu">int</span>(l1))</span>
<span id="cb25-3"><a href=""></a><span class="bu">print</span>(<span class="st">'q2     '</span>, <span class="bu">int</span>(q2.value[<span class="dv">0</span>]))</span>
<span id="cb25-4"><a href=""></a><span class="bu">print</span>(<span class="st">'l2     '</span>, <span class="bu">int</span>(l2))</span>
<span id="cb25-5"><a href=""></a><span class="bu">print</span>(<span class="st">'K      '</span>, <span class="bu">int</span>(k.value[<span class="dv">0</span>]))</span>
<span id="cb25-6"><a href=""></a><span class="bu">print</span>(<span class="st">'profit '</span>, <span class="bu">int</span>(profit))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>q1      142
l1      102
q2      171
l2      146
K       200
profit  20000</code></pre>
</div>
</div>
<h3 id="lets-plot-this-and-see-what-its-telling-us.">Lets plot this and see what it’s telling us.</h3>
<div id="0842fd21" class="cell" data-execution_count="25">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href=""></a><span class="co"># Create the figure and add a 3D axis</span></span>
<span id="cb27-2"><a href=""></a>fig <span class="op">=</span> plt.figure()</span>
<span id="cb27-3"><a href=""></a>ax <span class="op">=</span> fig.add_subplot(<span class="dv">111</span>, projection<span class="op">=</span><span class="st">'3d'</span>)</span>
<span id="cb27-4"><a href=""></a><span class="co"># Plot the data</span></span>
<span id="cb27-5"><a href=""></a>ax.plot_surface(Q1, Q2, Pi12)</span>
<span id="cb27-6"><a href=""></a><span class="co"># Set axis labels and show the plot</span></span>
<span id="cb27-7"><a href=""></a>ax.set_xlabel(<span class="st">'Q1'</span>)</span>
<span id="cb27-8"><a href=""></a>ax.set_ylabel(<span class="st">'Q2'</span>)</span>
<span id="cb27-9"><a href=""></a>ax.set_zlabel(<span class="st">'Profit'</span>)</span>
<span id="cb27-10"><a href=""></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="lecture4nonlinearProgramming_files/figure-revealjs/cell-26-output-1.png" width="419" height="396"></p>
</figure>
</div>
</div>
</div>
<p><strong>Notice that alot of this profit graph is below zero!</strong></p>
</section>
<section id="lets-zoom-to-the-zero-lower-bound" class="slide level2">
<h2>Let’s zoom to the zero lower bound</h2>
<div id="ad8cc1d6" class="cell" data-execution_count="26">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="lecture4nonlinearProgramming_files/figure-revealjs/cell-27-output-1.png" width="417" height="396"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>These are the profitable production plans, and the one at the top is the optimal plan.</li>
</ul>
<p>## What interesting insights or questions jump out from these facts?</p>
<ul>
<li>Now there is some synergy!</li>
<li>The functions are no longer separable</li>
</ul>
</section>
<section id="why-is-this-what-is-going-on" class="slide level2">
<h2>Why is this? What is going on?</h2>
<ul>
<li>This is what it means to share capital.</li>
</ul>
</section>
<section id="what-are-scenarios-where-this-would-play-out-in-the-real-world" class="slide level2">
<h2>What are scenarios where this would play out in the real world?</h2>
<ul>
<li>Adding a second product that does not compete with the first but that can be made using the same machines?</li>
<li>A manufacturing firm takes on additional work with idle capacity.</li>
<li>A retail firm adding a product line.</li>
</ul>
</section>
<section id="now-lets-fill-in-the-marginal-cost-table" class="slide level2">
<h2>Now let’s fill in the marginal cost table</h2>
<h4 id="for-each-of-these-the-first-step-is-to-see-how-much-k-we-need-given-the-production-choices.">For each of these the first step is to see how much K we need given the production choices.</h4>
<p><em>BTW, we are going to use a one unit increment here, but something less is fine i.e.&nbsp;true marginal cost.</em></p>
<table class="caption-top">
<colgroup>
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 40%">
<col style="width: 40%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"><span class="math inline">\(q_1\)</span></th>
<th style="text-align: center;"><span class="math inline">\(q_2\)</span></th>
<th style="text-align: center;">MC of <span class="math inline">\(q_1\)</span> with <span class="math inline">\(q_2\)</span> fixed.</th>
<th style="text-align: center;">MC of <span class="math inline">\(q_2\)</span> with <span class="math inline">\(q_1\)</span> fixed.</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">50</td>
<td style="text-align: center;">50</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;">50</td>
<td style="text-align: center;">100</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;">50</td>
<td style="text-align: center;">150</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;">100</td>
<td style="text-align: center;">50</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;">100</td>
<td style="text-align: center;">100</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;">100</td>
<td style="text-align: center;">150</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;">150</td>
<td style="text-align: center;">100</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;">150</td>
<td style="text-align: center;">150</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
<p>We are going to take the q as given and then calculate the optimal K for each and then increment.</p>
</section>
<section id="quick-notes" class="slide level2 scrollable">
<h2>Quick notes:</h2>
<ul>
<li><strong>Steps:</strong></li>
</ul>
<ol type="1">
<li>Find the optimal production plan for each combination.</li>
<li>Increment and find the optimal production plan for the incremented combinations.</li>
<li>Take difference to get marginal cost.</li>
</ol>
<ul>
<li>Note 1: This is VERY time consuming to do in excel, and relatively easy to do in python (or similar tools)</li>
<li>Note 2: We are using incremental cost in place of the marginal cost to avoid some difficult math.</li>
<li>Note 3: The key insight is that the marginal cost of the two products depend on each other.</li>
</ul>
</section>
<section id="first-put-the-data-into-a-dictionary" class="slide level2">
<h2>First, put the data into a dictionary</h2>
<div id="245c4e2e" class="cell" data-execution_count="27">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href=""></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb28-2"><a href=""></a>dd <span class="op">=</span> {</span>
<span id="cb28-3"><a href=""></a>    <span class="st">'q1'</span>: [<span class="dv">50</span>, <span class="dv">50</span>, <span class="dv">50</span>,<span class="dv">100</span>,<span class="dv">100</span>,<span class="dv">100</span>,<span class="dv">150</span>,<span class="dv">150</span>],</span>
<span id="cb28-4"><a href=""></a>    <span class="st">'q2'</span>: [<span class="dv">50</span>,<span class="dv">100</span>,<span class="dv">150</span>, <span class="dv">50</span>,<span class="dv">100</span>,<span class="dv">150</span>,<span class="dv">100</span>,<span class="dv">150</span>]</span>
<span id="cb28-5"><a href=""></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="second-write-down-the-functions" class="slide level2">
<h2>Second, write down the functions</h2>
<div id="56c1858e" class="cell" data-execution_count="28">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href=""></a><span class="kw">def</span> findK(q1,q2):</span>
<span id="cb29-2"><a href=""></a>    m <span class="op">=</span> GEKKO(remote<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb29-3"><a href=""></a>    <span class="co"># Initialize the decision variablesc</span></span>
<span id="cb29-4"><a href=""></a>    k <span class="op">=</span>  m.Var(name<span class="op">=</span><span class="st">"k"</span>, lb<span class="op">=</span><span class="dv">0</span>, ub<span class="op">=</span><span class="dv">200</span>) <span class="co"># this is the constraint</span></span>
<span id="cb29-5"><a href=""></a>    k.value<span class="op">=</span><span class="dv">200</span> <span class="co"># this is our first guess to speed up the solution</span></span>
<span id="cb29-6"><a href=""></a>    m.Maximize(</span>
<span id="cb29-7"><a href=""></a>        <span class="dv">275</span><span class="op">*</span>q1 <span class="op">-</span> <span class="dv">140</span><span class="op">*</span>((q1<span class="op">**</span><span class="dv">2</span>)<span class="op">/</span>k)</span>
<span id="cb29-8"><a href=""></a>        <span class="op">+</span> <span class="dv">300</span><span class="op">*</span>q2 <span class="op">-</span> <span class="dv">175</span><span class="op">*</span>((q2<span class="op">**</span><span class="dv">2</span>)<span class="op">/</span>k)</span>
<span id="cb29-9"><a href=""></a>        <span class="op">-</span> <span class="dv">100</span><span class="op">*</span>k</span>
<span id="cb29-10"><a href=""></a>    ) </span>
<span id="cb29-11"><a href=""></a>    m.solve(disp<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb29-12"><a href=""></a>    <span class="cf">return</span> k.value[<span class="dv">0</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="second-write-down-the-functions-1" class="slide level2">
<h2>Second, write down the functions</h2>
<div id="22d5ce21" class="cell" data-execution_count="29">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href=""></a><span class="kw">def</span> labor(q,K):</span>
<span id="cb30-2"><a href=""></a>    <span class="cf">return</span> (q<span class="op">**</span><span class="dv">2</span>)<span class="op">/</span>K</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="second-write-down-the-functions-2" class="slide level2">
<h2>Second, write down the functions</h2>
<div id="85eb2c01" class="cell" data-execution_count="30">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href=""></a><span class="kw">def</span> cost(L1,L2,K):</span>
<span id="cb31-2"><a href=""></a>    <span class="cf">return</span> <span class="dv">140</span><span class="op">*</span>L1 <span class="op">+</span> <span class="dv">175</span><span class="op">*</span>L2 <span class="op">+</span> <span class="dv">100</span><span class="op">*</span>K</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="second-write-down-the-functions-3" class="slide level2">
<h2>Second, write down the functions</h2>
<div id="4df04ead" class="cell" data-execution_count="31">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href=""></a>findK(<span class="dv">50</span>,<span class="dv">50</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="139">
<pre><code>88.741196671</code></pre>
</div>
</div>
</section>
<section id="fill-in-the-optimal-production-plan-for-each-set-of-points" class="slide level2">
<h2>Fill in the optimal production plan for each set of points</h2>
<div id="fee698ae" class="cell" data-execution_count="32">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href=""></a>df <span class="op">=</span> pd.DataFrame(dd)</span>
<span id="cb34-2"><a href=""></a>df[<span class="st">'K'</span>]<span class="op">=</span>np.vectorize(findK)(df[<span class="st">'q1'</span>],df[<span class="st">'q2'</span>])</span>
<span id="cb34-3"><a href=""></a>df[<span class="st">'L1'</span>] <span class="op">=</span> np.vectorize(labor)(df[<span class="st">'q1'</span>],df[<span class="st">'K'</span>])</span>
<span id="cb34-4"><a href=""></a>df[<span class="st">'L2'</span>] <span class="op">=</span> np.vectorize(labor)(df[<span class="st">'q2'</span>],df[<span class="st">'K'</span>])</span>
<span id="cb34-5"><a href=""></a>df[<span class="st">'Cost'</span>] <span class="op">=</span> np.vectorize(cost)(df[<span class="st">'L1'</span>],df[<span class="st">'L2'</span>],df[<span class="st">'K'</span>])</span>
<span id="cb34-6"><a href=""></a>df</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="140">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">q1</th>
<th data-quarto-table-cell-role="th">q2</th>
<th data-quarto-table-cell-role="th">K</th>
<th data-quarto-table-cell-role="th">L1</th>
<th data-quarto-table-cell-role="th">L2</th>
<th data-quarto-table-cell-role="th">Cost</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">0</th>
<td>50</td>
<td>50</td>
<td>88.741197</td>
<td>28.171809</td>
<td>28.171809</td>
<td>17748.239349</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">1</th>
<td>50</td>
<td>100</td>
<td>144.913768</td>
<td>17.251639</td>
<td>69.006556</td>
<td>28982.753492</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">2</th>
<td>50</td>
<td>150</td>
<td>200.000000</td>
<td>12.500000</td>
<td>112.500000</td>
<td>41437.500000</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">3</th>
<td>100</td>
<td>50</td>
<td>135.554417</td>
<td>73.771111</td>
<td>18.442778</td>
<td>27110.883423</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">4</th>
<td>100</td>
<td>100</td>
<td>177.482391</td>
<td>56.343618</td>
<td>56.343618</td>
<td>35496.478699</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">5</th>
<td>100</td>
<td>150</td>
<td>200.000000</td>
<td>50.000000</td>
<td>112.500000</td>
<td>46687.500000</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">6</th>
<td>150</td>
<td>100</td>
<td>200.000000</td>
<td>112.500000</td>
<td>50.000000</td>
<td>44500.000000</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">7</th>
<td>150</td>
<td>150</td>
<td>200.000000</td>
<td>112.500000</td>
<td>112.500000</td>
<td>55437.500000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="now-increment-q1-by-1" class="slide level2">
<h2>Now increment q1 by 1</h2>
<div id="b484d816" class="cell" data-execution_count="33">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href=""></a>df_i_q1 <span class="op">=</span> pd.DataFrame(dd)</span>
<span id="cb35-2"><a href=""></a>df_i_q1[<span class="st">'q1'</span>]<span class="op">=</span>df_i_q1[<span class="st">'q1'</span>]<span class="op">+</span><span class="dv">1</span></span>
<span id="cb35-3"><a href=""></a>df_i_q1[<span class="st">'K'</span>]<span class="op">=</span>np.vectorize(findK)(df_i_q1[<span class="st">'q1'</span>],df_i_q1[<span class="st">'q2'</span>])</span>
<span id="cb35-4"><a href=""></a>df_i_q1[<span class="st">'L1'</span>] <span class="op">=</span> np.vectorize(labor)(df_i_q1[<span class="st">'q1'</span>],df_i_q1[<span class="st">'K'</span>])</span>
<span id="cb35-5"><a href=""></a>df_i_q1[<span class="st">'L2'</span>] <span class="op">=</span> np.vectorize(labor)(df_i_q1[<span class="st">'q2'</span>],df_i_q1[<span class="st">'K'</span>])</span>
<span id="cb35-6"><a href=""></a>df_i_q1[<span class="st">'Cost'</span>] <span class="op">=</span> np.vectorize(cost)(df_i_q1[<span class="st">'L1'</span>],df_i_q1[<span class="st">'L2'</span>],df_i_q1[<span class="st">'K'</span>])</span>
<span id="cb35-7"><a href=""></a>df_i_q1</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="141">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">q1</th>
<th data-quarto-table-cell-role="th">q2</th>
<th data-quarto-table-cell-role="th">K</th>
<th data-quarto-table-cell-role="th">L1</th>
<th data-quarto-table-cell-role="th">L2</th>
<th data-quarto-table-cell-role="th">Cost</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">0</th>
<td>51</td>
<td>50</td>
<td>89.534351</td>
<td>29.050303</td>
<td>27.922244</td>
<td>17906.870190</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">1</th>
<td>51</td>
<td>100</td>
<td>145.400825</td>
<td>17.888482</td>
<td>68.775401</td>
<td>29080.165061</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">2</th>
<td>51</td>
<td>150</td>
<td>200.000000</td>
<td>13.005000</td>
<td>112.500000</td>
<td>41508.200000</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">3</th>
<td>101</td>
<td>50</td>
<td>136.588433</td>
<td>74.684216</td>
<td>18.303160</td>
<td>27317.686578</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">4</th>
<td>101</td>
<td>100</td>
<td>178.273384</td>
<td>57.221105</td>
<td>56.093623</td>
<td>35654.677113</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">5</th>
<td>101</td>
<td>150</td>
<td>200.000000</td>
<td>51.005000</td>
<td>112.500000</td>
<td>46828.200000</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">6</th>
<td>151</td>
<td>100</td>
<td>200.000000</td>
<td>114.005000</td>
<td>50.000000</td>
<td>44710.700000</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">7</th>
<td>151</td>
<td>150</td>
<td>200.000000</td>
<td>114.005000</td>
<td>112.500000</td>
<td>55648.200000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="now-increment-q2-by-1" class="slide level2">
<h2>Now increment q2 by 1</h2>
<div id="d3228e34" class="cell" data-execution_count="34">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href=""></a>df_i_q2 <span class="op">=</span> pd.DataFrame(dd)</span>
<span id="cb36-2"><a href=""></a>df_i_q2[<span class="st">'q2'</span>]<span class="op">=</span>df_i_q2[<span class="st">'q2'</span>]<span class="op">+</span><span class="dv">1</span></span>
<span id="cb36-3"><a href=""></a>df_i_q2[<span class="st">'K'</span>]<span class="op">=</span>np.vectorize(findK)(df_i_q2[<span class="st">'q1'</span>],df_i_q2[<span class="st">'q2'</span>])</span>
<span id="cb36-4"><a href=""></a>df_i_q2[<span class="st">'L1'</span>] <span class="op">=</span> np.vectorize(labor)(df_i_q2[<span class="st">'q1'</span>],df_i_q2[<span class="st">'K'</span>])</span>
<span id="cb36-5"><a href=""></a>df_i_q2[<span class="st">'L2'</span>] <span class="op">=</span> np.vectorize(labor)(df_i_q2[<span class="st">'q2'</span>],df_i_q2[<span class="st">'K'</span>])</span>
<span id="cb36-6"><a href=""></a>df_i_q2[<span class="st">'Cost'</span>] <span class="op">=</span> np.vectorize(cost)(df_i_q2[<span class="st">'L1'</span>],df_i_q2[<span class="st">'L2'</span>],df_i_q2[<span class="st">'K'</span>])</span>
<span id="cb36-7"><a href=""></a>df_i_q2</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="142">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">q1</th>
<th data-quarto-table-cell-role="th">q2</th>
<th data-quarto-table-cell-role="th">K</th>
<th data-quarto-table-cell-role="th">L1</th>
<th data-quarto-table-cell-role="th">L2</th>
<th data-quarto-table-cell-role="th">Cost</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">0</th>
<td>50</td>
<td>51</td>
<td>89.731544</td>
<td>27.860882</td>
<td>28.986462</td>
<td>17946.308813</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">1</th>
<td>50</td>
<td>101</td>
<td>146.122380</td>
<td>17.108947</td>
<td>69.811346</td>
<td>29224.476043</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">2</th>
<td>50</td>
<td>151</td>
<td>200.000000</td>
<td>12.500000</td>
<td>114.005000</td>
<td>41700.875000</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">3</th>
<td>100</td>
<td>51</td>
<td>136.204809</td>
<td>73.418847</td>
<td>19.096242</td>
<td>27240.961804</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">4</th>
<td>100</td>
<td>101</td>
<td>178.470584</td>
<td>56.031643</td>
<td>57.157879</td>
<td>35694.117162</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">5</th>
<td>100</td>
<td>151</td>
<td>200.000000</td>
<td>50.000000</td>
<td>114.005000</td>
<td>46950.875000</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">6</th>
<td>150</td>
<td>101</td>
<td>200.000000</td>
<td>112.500000</td>
<td>51.005000</td>
<td>44675.875000</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">7</th>
<td>150</td>
<td>151</td>
<td>200.000000</td>
<td>112.500000</td>
<td>114.005000</td>
<td>55700.875000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="marginal-cost-of-q1-at-each-point" class="slide level2">
<h2>Marginal cost of q1 at each point</h2>
<div id="a53a3ccf" class="cell" data-execution_count="35">
<div class="cell-output cell-output-display" data-execution_count="143">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">q1</th>
<th data-quarto-table-cell-role="th">q2</th>
<th data-quarto-table-cell-role="th">K</th>
<th data-quarto-table-cell-role="th">L1</th>
<th data-quarto-table-cell-role="th">L2</th>
<th data-quarto-table-cell-role="th">Cost</th>
<th data-quarto-table-cell-role="th">mc_q1</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">0</th>
<td>51</td>
<td>50</td>
<td>89.534351</td>
<td>29.050303</td>
<td>27.922244</td>
<td>17906.870190</td>
<td>158.630841</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">1</th>
<td>51</td>
<td>100</td>
<td>145.400825</td>
<td>17.888482</td>
<td>68.775401</td>
<td>29080.165061</td>
<td>97.411569</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">2</th>
<td>51</td>
<td>150</td>
<td>200.000000</td>
<td>13.005000</td>
<td>112.500000</td>
<td>41508.200000</td>
<td>70.700000</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">3</th>
<td>101</td>
<td>50</td>
<td>136.588433</td>
<td>74.684216</td>
<td>18.303160</td>
<td>27317.686578</td>
<td>206.803155</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">4</th>
<td>101</td>
<td>100</td>
<td>178.273384</td>
<td>57.221105</td>
<td>56.093623</td>
<td>35654.677113</td>
<td>158.198414</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">5</th>
<td>101</td>
<td>150</td>
<td>200.000000</td>
<td>51.005000</td>
<td>112.500000</td>
<td>46828.200000</td>
<td>140.700000</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">6</th>
<td>151</td>
<td>100</td>
<td>200.000000</td>
<td>114.005000</td>
<td>50.000000</td>
<td>44710.700000</td>
<td>210.700000</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">7</th>
<td>151</td>
<td>150</td>
<td>200.000000</td>
<td>114.005000</td>
<td>112.500000</td>
<td>55648.200000</td>
<td>210.700000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="marginal-cost-of-q2-at-each-point" class="slide level2">
<h2>Marginal cost of q2 at each point</h2>
<div id="43dde124" class="cell" data-execution_count="36">
<div class="cell-output cell-output-display" data-execution_count="144">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">q1</th>
<th data-quarto-table-cell-role="th">q2</th>
<th data-quarto-table-cell-role="th">K</th>
<th data-quarto-table-cell-role="th">L1</th>
<th data-quarto-table-cell-role="th">L2</th>
<th data-quarto-table-cell-role="th">Cost</th>
<th data-quarto-table-cell-role="th">mc_q2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">0</th>
<td>50</td>
<td>51</td>
<td>89.731544</td>
<td>27.860882</td>
<td>28.986462</td>
<td>17946.308813</td>
<td>198.069463</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">1</th>
<td>50</td>
<td>101</td>
<td>146.122380</td>
<td>17.108947</td>
<td>69.811346</td>
<td>29224.476043</td>
<td>241.722551</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">2</th>
<td>50</td>
<td>151</td>
<td>200.000000</td>
<td>12.500000</td>
<td>114.005000</td>
<td>41700.875000</td>
<td>263.375000</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">3</th>
<td>100</td>
<td>51</td>
<td>136.204809</td>
<td>73.418847</td>
<td>19.096242</td>
<td>27240.961804</td>
<td>130.078380</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">4</th>
<td>100</td>
<td>101</td>
<td>178.470584</td>
<td>56.031643</td>
<td>57.157879</td>
<td>35694.117162</td>
<td>197.638464</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">5</th>
<td>100</td>
<td>151</td>
<td>200.000000</td>
<td>50.000000</td>
<td>114.005000</td>
<td>46950.875000</td>
<td>263.375000</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">6</th>
<td>150</td>
<td>101</td>
<td>200.000000</td>
<td>112.500000</td>
<td>51.005000</td>
<td>44675.875000</td>
<td>175.875000</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">7</th>
<td>150</td>
<td>151</td>
<td>200.000000</td>
<td>112.500000</td>
<td>114.005000</td>
<td>55700.875000</td>
<td>263.375000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="yikes" class="title-slide slide level1 center">
<h1>Yikes!</h1>
<p><strong>BUT WAIT! Dr.&nbsp;Morris this last one is really hard in Excel! :(</strong></p>
<p>… part of what I’m trying to do is show you Excel’s limits :]</p>
<p>… I won’t ask you to do that part on the exam!</p>

</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="lecture4nonlinearProgramming_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="lecture4nonlinearProgramming_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="lecture4nonlinearProgramming_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="lecture4nonlinearProgramming_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="lecture4nonlinearProgramming_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="lecture4nonlinearProgramming_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="lecture4nonlinearProgramming_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="lecture4nonlinearProgramming_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="lecture4nonlinearProgramming_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="lecture4nonlinearProgramming_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
          const outerScaffold = trigger.parentElement.cloneNode(true);
          const codeEl = outerScaffold.querySelector('code');
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>